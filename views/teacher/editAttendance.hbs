
<!doctype html>
<html lang="en">
  <head>
  	<title></title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
		
		{{!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> --}}
		<script src="https://kit.fontawesome.com/94883f0d72.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body>
		
		<div class="wrapper d-flex align-items-stretch">
			<nav id="sidebar">
				<div class="custom-menu">
					<button type="button" id="sidebarCollapse" class="btn btn-primary">
	          <i class="fa fa-bars"></i>
	          <span class="sr-only">Toggle Menu</span>
	        </button>
        </div>
	  		<h1><a  class="logo" style="color:black">School manager</a></h1>
        <ul class="list-unstyled components mb-5" >
          <li class="active" >
          
            <a href="/account/indexAdmin" style="text-decoration: none;"><span class="fas fa-chart-pie mr-3 "></span> Dashboard</a>
          </li>
          <li>
              <a href="/class/allclass" style="text-decoration: none;"><span class="fas fa-school mr-3"></span> All Class</a>
          </li>
          <li>
            <a href="/admin/createStudent"style="text-decoration: none;"><span class="fas fa-plus-circle mr-3"></span> Create student</a>
          </li>
          <li>
            <a href="/admin/createAccount"style="text-decoration: none;"><span class="fas fa-plus-circle mr-3"></span> Create teacher</a>
          </li>
          <li>
            <a href="/class/create"style="text-decoration: none;"><span class="fas fa-plus-circle mr-3"></span> Create class</a>
          </li>
          <li>
            <a href="/file/file" style="text-decoration: none;"><span class="fas fa-file mr-3"></span> Plans </a>
          </li>
          <li>
            <a href="/admin/chooseAttendance" style="text-decoration: none;"><span class="far fa-calendar-alt mr-3"></span>  Attendance </a>
          </li>
          <li>
            <a href="/post/allposts" style="text-decoration: none;"><span class="far far fa-newspaper mr-3"></span>  Post </a>
          </li>
          <li>
            <a href="/student/enrollment" style="text-decoration: none;"><span class="far far fa-newspaper mr-3"></span>  Online enrollment </a>
          </li>
          <li>
            <a href="/logout" style="text-decoration: none;"><span class="fas fa-sign-out-alt mr-3"></span> Log out </a>
          </li>
        </ul>

    	</nav>

        <!-- Page Content  -->
      <div id="content" class="p-4 p-md-5 pt-5"> 
  <h2 style="font-weight: 450;"> Take attendance</h2>
      <form action="/admin/doEditAttendance/{{data1._id}}" method="POST">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">Teacher ID</th>
                <th scope="col">Date</th>
                


                <th   style="text-align: center;">Status</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
                    <p  hidden>{{data1._id}}</p>

                {{!-- {{#each date}} --}}

              <tr>

                <td>{{ data1.accountID_attendance}}</td>
                    <td>({{data1.day}}){{data1.date}}/{{data1.month}}</td>
                <td style="text-align: center;"  id="array1">
                  <input  type="checkbox" class="input1" id="input1" name="status"  data="{{data1.status}}" value="Attended"  />Attended    
                    {{!-- <span id="span">Attended</span> --}}
                  <input  type="checkbox"  class="input2" id="input2" name="status"  data="{{data1.status}}" value="Absent"/> Absent  
                </td>
               
                <script>
                  
               
                    var a = document.getElementsByClassName('input1')            
                    for(var i = 0; i<a.length; ++i){
                          if(a[i].checked == false){
                            if(a[i].getAttribute("data") == "Attended"){
                      
                                    a[i].checked = true;
                            }
                            
                          }
                                  
                    }
                    var b = document.getElementsByClassName('input2')
                
                      

                    for(var i = 0; i<b.length; ++i){
                          if(b[i].checked == false){
                            if(b[i].getAttribute("data") == "Absent"){
                                    b[i].checked = true;
                            }
                            
                          }
                                  
                    }

      var checks = document.getElementsByName('status');

        checks.forEach(function(check){
          check.addEventListener('click', checkIndex);
        })

////////////////////////////////////////
        function checkIndex(event){
 
      var b = document.getElementsByName('status');


          let attendance = Array.from(checks).indexOf(event.target) ;
          let attendance1 = Array.from(checks).indexOf(event.target) ;

       console.log(attendance)
          
          if( attendance % 2 == 0){
               b[attendance + 1].checked = false;
               b[attendance].checked = true

          }else{
               b[attendance - 1].checked = false;
               b[attendance].checked = true

          }
          
        }

        ///
  
                   
                            
                    
                   
         
                  </script> 
              </tr>
              

            </tbody>
          </table>
        <button type="button" class="btn btn-primary mr-1" data-toggle="modal" data-target="#exampleModal">Submit</button>
          
          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLabel">Warning</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  Do you want to continue the changes?
                </div>
                <div class="modal-footer">
                  <a href="/admin/chooseAttendance" class="btn btn-secondary" data-dismiss="modal">Close</a>
                  <button id="btnSubmit" type="submit" class="btn btn-primary">Save changes</button>
                </div>
              </div>
            </div>
          </div>
           </form>
 
          <script>
            $('#myModal').on('shown.bs.modal', function () {
              $('#myInput').trigger('focus')
            })
          </script>
		</div>
  
    <script src="/js/jquery.min.js"></script>
    <script src="/js/popper.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/main.js"></script>
  </body>
</html>
